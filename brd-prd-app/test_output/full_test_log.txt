ğŸš€ Starting comprehensive admin authentication test with curl...
========================================================
ğŸ“ Step 1: Testing server availability
âœ“ Server status: 500
âœ… Server is responding (allowing 500 for debugging)
ğŸ“ Step 2: Getting signin page and CSRF token
âš ï¸  No CSRF token found in signin page
ğŸ“ Step 3: Testing NextAuth providers endpoint
âœ“ Providers endpoint status: 200
ğŸ“ Step 4: Testing CSRF endpoint
âœ“ CSRF endpoint status: 200
âœ“ API CSRF Token found: ed2d6786bc1c5810e204...
ğŸ“ Step 5: Testing credentials authentication
âœ“ Auth callback status: 302
âœ… Authentication appears successful (status: 302)
ğŸ“ Step 6: Testing session endpoint
âœ“ Session endpoint status: 200
âŒ Session does not contain admin email
âŒ Session does not show admin role
ğŸ“ Step 7: Testing debug session endpoint
âœ“ Debug session status: 200
ğŸ“ Step 8: Testing admin panel access
âœ“ Admin panel status: 500
âŒ ISSUE: Admin access denied or redirected to error page
ğŸ“ Step 9: Testing admin API endpoints
  Testing: /api/admin/analytics/users
    Status: 500
    âš ï¸  Unexpected status
  Testing: /api/admin/activity
    Status: 401
    âŒ Access denied
  Testing: /api/admin/setup-stripe
    Status: 200
    âœ… Success
ğŸ“ Step 10: Testing admin user creation endpoint
